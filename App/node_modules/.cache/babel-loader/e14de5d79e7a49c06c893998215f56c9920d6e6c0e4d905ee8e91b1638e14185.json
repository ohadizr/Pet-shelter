{"ast":null,"code":"var _jsxFileName = \"/Users/ohad/Desktop/GitCollaborationDemo/pat-addoption-ohadizr/App/src/functions/UserApi.jsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UserApi extends React.Component {\n  constructor(props) {\n    super(props);\n    this.url = 'http://localhost:8000';\n    this.state = {\n      users: [],\n      f_name: '',\n      l_name: '',\n      email: '',\n      password: '',\n      password_validate: '',\n      phone_num: '',\n      bio: '',\n      loading: true,\n      error: false\n    };\n  }\n  async componentDidMount() {\n    try {\n      const response = await fetch('http://localhost:8000/users');\n      const data = await response.json();\n      this.setState({\n        users: data,\n        loading: false\n      });\n    } catch (error) {\n      console.log(error);\n      this.setState({\n        error: true\n      });\n    }\n  }\n  async saveOnLocalStorage(token) {\n    try {\n      localStorage.setItem('token', token);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // async getToken() {\n  //   try {\n  //     const token = localStorage.getItem('token');\n  //     return token;\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n\n  async newUser(f_name, l_name, email, password, password_validate, phone_num, bio) {\n    try {\n      const response = await fetch('http://localhost:8000/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          f_name: f_name,\n          l_name: l_name,\n          email: email,\n          password: password,\n          password_validate: password_validate,\n          phone_num: phone_num,\n          bio: bio\n        })\n      });\n      const data = await response.json();\n      console.log(data);\n      //save token to local storage\n      localStorage.setItem('token', data.token);\n      return;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async login(email, password) {\n    try {\n      const response = await fetch('http://localhost:8000/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password\n        })\n      });\n      const data = await response.json();\n      console.log(data.token);\n      await this.saveOnLocalStorage(data.token);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  //get user by id\n  async getUserById(id) {\n    try {\n      const response = await fetch(`http://localhost:8000/users/${id}`);\n      const data = await response.json();\n      console.log(data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 14\n      }, this);\n    }\n    if (this.state.error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"error...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.state.users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [user.f_name, \" \", user.l_name]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default UserApi;","map":{"version":3,"names":["React","UserApi","Component","constructor","props","url","state","users","f_name","l_name","email","password","password_validate","phone_num","bio","loading","error","componentDidMount","response","fetch","data","json","setState","console","log","saveOnLocalStorage","token","localStorage","setItem","newUser","method","headers","body","JSON","stringify","login","getUserById","id","render","map","user"],"sources":["/Users/ohad/Desktop/GitCollaborationDemo/pat-addoption-ohadizr/App/src/functions/UserApi.jsx"],"sourcesContent":["import React from 'react';\n\nclass UserApi extends React.Component {\n  constructor(props) {\n    super(props);\n    this.url = 'http://localhost:8000';\n    this.state = {\n      users: [],\n      f_name: '',\n      l_name: '',\n      email: '',\n      password: '',\n      password_validate: '',\n      phone_num: '',\n      bio: '',\n      loading: true,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const response = await fetch('http://localhost:8000/users');\n      const data = await response.json();\n      this.setState({ users: data, loading: false });\n    } catch (error) {\n      console.log(error);\n      this.setState({ error: true });\n    }\n  }\n\n  async saveOnLocalStorage(token) {\n    try {\n      localStorage.setItem('token', token);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  // async getToken() {\n  //   try {\n  //     const token = localStorage.getItem('token');\n  //     return token;\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // }\n\n  async newUser(f_name, l_name, email, password, password_validate, phone_num, bio) {\n    try {\n      const response = await fetch('http://localhost:8000/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          f_name: f_name,\n          l_name: l_name,\n          email: email,\n          password: password,\n          password_validate: password_validate,\n          phone_num: phone_num,\n          bio: bio,\n        }),\n      });\n      const data = await response.json();\n      console.log(data);\n      //save token to local storage\n      localStorage.setItem('token', data.token);\n      return\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async login(email, password) {\n    try {\n      const response = await fetch('http://localhost:8000/login',{\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password,\n        }),\n      });\n      const data = await response.json();\n      console.log(data.token);\n      await this.saveOnLocalStorage(data.token);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  //get user by id\n  async getUserById(id) {\n    try {\n      const response = await fetch(`http://localhost:8000/users/${id}`);\n      const data = await response.json();\n      console.log(data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  \n  \n  render() {\n    if (this.state.loading) {\n      return <div>loading...</div>;\n    }\n    if (this.state.error) {\n      return <div>error...</div>;\n    }\n    return (\n      <div>\n        <h1>Users</h1>\n        <ul>\n          {this.state.users.map((user) => (\n            <li key={user.id}>\n              {user.f_name} {user.l_name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default UserApi;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC;AAE1B,MAAMC,OAAO,SAASD,KAAK,CAACE,SAAS,CAAC;EACpCC,WAAW,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,GAAG,GAAG,uBAAuB;IAClC,IAAI,CAACC,KAAK,GAAG;MACXC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,iBAAiB,EAAE,EAAE;MACrBC,SAAS,EAAE,EAAE;MACbC,GAAG,EAAE,EAAE;MACPC,OAAO,EAAE,IAAI;MACbC,KAAK,EAAE;IACT,CAAC;EACH;EAEA,MAAMC,iBAAiB,GAAG;IACxB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,CAAC;MAC3D,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClC,IAAI,CAACC,QAAQ,CAAC;QAAEf,KAAK,EAAEa,IAAI;QAAEL,OAAO,EAAE;MAAM,CAAC,CAAC;IAChD,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MAClB,IAAI,CAACM,QAAQ,CAAC;QAAEN,KAAK,EAAE;MAAK,CAAC,CAAC;IAChC;EACF;EAEA,MAAMS,kBAAkB,CAACC,KAAK,EAAE;IAC9B,IAAI;MACFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;IACtC,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACpB;EACF;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMa,OAAO,CAACrB,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,SAAS,EAAEC,GAAG,EAAE;IAChF,IAAI;MACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QAC3DW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB1B,MAAM,EAAEA,MAAM;UACdC,MAAM,EAAEA,MAAM;UACdC,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEA,QAAQ;UAClBC,iBAAiB,EAAEA,iBAAiB;UACpCC,SAAS,EAAEA,SAAS;UACpBC,GAAG,EAAEA;QACP,CAAC;MACH,CAAC,CAAC;MACF,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClCE,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;MACjB;MACAO,YAAY,CAACC,OAAO,CAAC,OAAO,EAAER,IAAI,CAACM,KAAK,CAAC;MACzC;IACF,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACpB;EACF;EAEA,MAAMmB,KAAK,CAACzB,KAAK,EAAEC,QAAQ,EAAE;IAC3B,IAAI;MACF,MAAMO,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAC;QACzDW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBxB,KAAK,EAAEA,KAAK;UACZC,QAAQ,EAAEA;QACZ,CAAC;MACH,CAAC,CAAC;MACF,MAAMS,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClCE,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACM,KAAK,CAAC;MACvB,MAAM,IAAI,CAACD,kBAAkB,CAACL,IAAI,CAACM,KAAK,CAAC;IAC3C,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACpB;EACF;EACA;EACA,MAAMoB,WAAW,CAACC,EAAE,EAAE;IACpB,IAAI;MACF,MAAMnB,QAAQ,GAAG,MAAMC,KAAK,CAAE,+BAA8BkB,EAAG,EAAC,CAAC;MACjE,MAAMjB,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;MAClCE,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACpB;EACF;EAGAsB,MAAM,GAAG;IACP,IAAI,IAAI,CAAChC,KAAK,CAACS,OAAO,EAAE;MACtB,oBAAO;QAAA,UAAK;MAAU;QAAA;QAAA;QAAA;MAAA,QAAM;IAC9B;IACA,IAAI,IAAI,CAACT,KAAK,CAACU,KAAK,EAAE;MACpB,oBAAO;QAAA,UAAK;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAM;IAC5B;IACA,oBACE;MAAA,wBACE;QAAA,UAAI;MAAK;QAAA;QAAA;QAAA;MAAA,QAAK,eACd;QAAA,UACG,IAAI,CAACV,KAAK,CAACC,KAAK,CAACgC,GAAG,CAAEC,IAAI,iBACzB;UAAA,WACGA,IAAI,CAAChC,MAAM,EAAC,GAAC,EAACgC,IAAI,CAAC/B,MAAM;QAAA,GADnB+B,IAAI,CAACH,EAAE;UAAA;UAAA;UAAA;QAAA,QAGjB;MAAC;QAAA;QAAA;QAAA;MAAA,QACC;IAAA;MAAA;MAAA;MAAA;IAAA,QACD;EAEV;AACF;AAEA,eAAepC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React from \"react\";\nimport localforage from \"localforage\";\nimport { useNavigate } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nclass PetsApi extends React.Component {\n  async getPetData() {\n    const web = \"http://localhost:8000/pets\";\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  async addPet(formData, id) {\n    const url = 'http://localhost:8000/addPet';\n    const data = {\n      \"type\": formData.type,\n      \"name\": formData.name,\n      \"adoption_status\": formData.adoption_status,\n      \"picture\": \"https://w7.pngwing.com/pngs/68/852/png-transparent-catdog-season-2-cat-mammal-animals-cat-like-mammal-thumbnail.png\",\n      \"height\": formData.height,\n      \"weight\": formData.weight,\n      \"color\": formData.color,\n      \"bio\": formData.bio,\n      \"hypoallergenic\": formData.hypoallergenic,\n      \"breed\": formData.breed,\n      \"dietary_restrictions\": formData.dietary_restrictions,\n      \"owner\": id,\n      \"age\": formData.age\n    };\n    console.log(data);\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    };\n    try {\n      const response = await fetch(url, options);\n      const json = await response.json();\n      console.log(json);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  }\n  async getPetById(id) {\n    const web = `http://localhost:8000/pets/${id}`;\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\n\n  async getPetByUserId(id) {\n    const web = `http://localhost:8000/pets/user/${id}`;\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\n\n  async updatePet(id, pet) {\n    const web = `http://localhost:8000/pet/${id}`;\n    try {\n      const response = await fetch(web, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(pet)\n      });\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\\\n\n  async filtered(input) {\n    console.log(\"input\", input);\n    const filter = {\n      \"type\": input.type,\n      \"adoption_status\": input.adoption_status,\n      \"height\": input.height,\n      \"weight\": input.weight,\n      \"age\": input.age\n    };\n    console.log(\"filter\", filter);\n    const url = \"http://localhost:8000/pet\";\n    try {\n      const response = await fetch(url, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify()\n      });\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\nexport default PetsApi;","map":{"version":3,"names":["React","localforage","useNavigate","PropTypes","PetsApi","Component","getPetData","web","response","fetch","results","json","error","console","log","addPet","formData","id","url","data","type","name","adoption_status","height","weight","color","bio","hypoallergenic","breed","dietary_restrictions","age","options","method","headers","getPetById","getPetByUserId","updatePet","pet","body","JSON","stringify","filtered","input","filter","result"],"sources":["/Users/ohad/Desktop/GitCollaborationDemo/pat-addoption-ohadizr/App/src/Data/PetApi.jsx"],"sourcesContent":["import React from \"react\";\nimport localforage from \"localforage\";\nimport { useNavigate } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nclass PetsApi extends React.Component {\n  async getPetData() {\n    const web = \"http://localhost:8000/pets\";\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } \n\n  async addPet(formData,id) {\n      const url = 'http://localhost:8000/addPet';\n      \n      const data = {\n        \"type\": formData.type,\n        \"name\": formData.name,\n        \"adoption_status\": formData.adoption_status,\n        \"picture\": \"https://w7.pngwing.com/pngs/68/852/png-transparent-catdog-season-2-cat-mammal-animals-cat-like-mammal-thumbnail.png\",\n        \"height\": formData.height,\n        \"weight\": formData.weight,\n        \"color\": formData.color,\n        \"bio\": formData.bio,\n        \"hypoallergenic\": formData.hypoallergenic,\n        \"breed\":  formData.breed,\n        \"dietary_restrictions\": formData.dietary_restrictions,\n        \"owner\": id,\n        \"age\": formData.age,\n      };\n      console.log(data);\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n\n      };\n      try {\n        const response = await fetch(url, options);\n        const json = await response.json();\n        console.log(json);\n      } catch (error) {\n        console.error('Error:', error);\n      }\n    }\n\n  async getPetById(id) {\n    const web = `http://localhost:8000/pets/${id}`;\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\n\n  async getPetByUserId(id) {\n    const web = `http://localhost:8000/pets/user/${id}`;\n    try {\n      const response = await fetch(web);\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\n\n  async updatePet(id, pet) {\n    const web = `http://localhost:8000/pet/${id}`;\n    try {\n      const response = await fetch(web, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(pet),\n      });\n      const results = await response.json();\n      return results;\n    } catch (error) {\n      console.log(error);\n    }\n  } //untested\\\n\n  async filtered(input) { \n    console.log(\"input\",input );\n    const filter = {\n      \"type\": input.type,\n      \"adoption_status\": input.adoption_status,\n      \"height\": input.height,\n      \"weight\": input.weight,\n      \"age\": input.age\n    };\n    console.log(\"filter\",filter);\n    const url = \"http://localhost:8000/pet\";\n\n    try {\n\n      const response = await fetch(url, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(),\n      });\n      const result = await response.json();\n      return result;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\nexport default PetsApi;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}